<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css" />
    <title>Hexatic!</title>
</head>

<body>
    <!--play / sign in / sign up-->
    <div id="center" class="center">
        <h1>Hexatic!</h1>
        <h2>Get 6 chances to guess the hex code</h2>
        <div class="btn-container">
            <div class="link">
                <ul>
                    <li><a href="#" class="btn" id="play">Play</a></li>
                    <li><a href="/signin.html" class="btn">Log In</a></li>
                    <li><a href="/signup.html" class="btn">Sign Up</a></li>
                </ul>
            </div>
        </div>
    </div>

    <!--navbar-->
    <div id="navbar" style="display:none;">
        <ul class="nav-links">
            <li>tutorial</li>
            <li>stats</li>
            <li>settings</li>
            <li>profile</li>
        </ul>
    </div>

    <!--game-->
    <div id="game" style="display: none;"></div>

    <script type="module">
        // show game & navbar
        import { game } from '../controllers/gameControllers.js'; 
        
        function showGameAndNavbar() {
            document.getElementById('center').style.display = 'none';
            document.getElementById('navbar').style.display = 'block';
            document.getElementById('game').style.display = 'block';
            document.getElementById('game').innerHTML = game();
        }

        // show game & navbar when 'play' is clicked
        document.getElementById('play').addEventListener('click', function (event) {
            event.preventDefault();
            showGameAndNavbar();
        });
        
        // show game & navbar when user is logged in
        function getCookie(name) {
            const value = "; " + document.cookie;
            const parts = value.split("; " + name + "=");
            if (parts.length == 2) return parts.pop().split(";").shift();
        }
        const loggedIn = getCookie('loggedin');
        if (loggedIn === 'true') {
            console.log('User is logged in, showing game and navbar');
            showGameAndNavbar();
        }
    </script>

</body>

</html>